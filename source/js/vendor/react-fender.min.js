require=function e(r,t,s){function a(o,n){if(!t[o]){if(!r[o]){var p="function"==typeof require&&require;if(!n&&p)return p(o,!0);if(i)return i(o,!0);var u=Error("Cannot find module '"+o+"'");throw u.code="MODULE_NOT_FOUND",u}var l=t[o]={exports:{}};r[o][0].call(l.exports,function(e){var t=r[o][1][e];return a(t?t:e)},l,l.exports,e,r,t,s)}return t[o].exports}for(var i="function"==typeof require&&require,o=0;s.length>o;o++)a(s[o]);return a}({duplexer:[function(e,r){function t(e,r){if(e.forEach)return e.forEach(r);for(var t=0;e.length>t;t++)r(e[t],t)}function s(e,r){function s(r){function t(){return e[r].apply(e,arguments)}f[r]=t}function u(e){function t(){f.emit(e);var t=r[e];return t?t.apply(r,arguments):(r.emit(e),void 0)}f[e]=t}function l(e){function t(){var r=p.call(arguments);r.unshift(e),f.emit.apply(f,r)}r.on(e,t)}function c(){if(!h){h=!0;var e=p.call(arguments);e.unshift("end"),f.emit.apply(f,e)}}function d(e){f.emit("error",e)}var f=new a,h=!1;return t(i,s),t(o,u),t(n,l),r.on("end",c),e.on("drain",function(){f.emit("drain")}),e.on("error",d),r.on("error",d),f.writable=e.writable,f.readable=r.readable,f}var a=e("stream"),i=["write","end","destroy"],o=["resume","pause"],n=["data","close"],p=Array.prototype.slice;r.exports=s},{stream:void 0}],"react-fender":[function(e,r){function t(e){var r,t={id:e.getf("number"),name:e.getf("name"),doc:e.getf("doc")},s=e.getf("options");if(s&&(r=s.getf("fender_field","fender.v1"))){var a=r.asJSON();Object.keys(a).forEach(function(e){t[e]=a[e]})}return t}function s(e,r,t,s,i,o,n){var p;return p=i?React.DOM.button({className:"remover",onClick:i},"X"):React.DOM.span(null),React.DOM.div({className:"proto-field form-group"+n,"data-error":o},p,React.DOM.label({className:"control-label"},a(t)," ",r),s)}function a(e){return e?React.DOM.span({className:"required"},"*"):React.DOM.span(null)}var i,o={},n=/64$/,p=/(INT|FIXED)/,u=/(UINT|[^S]FIXED)/,l=React.createClass({displayName:"StringField",getInitialState:function(){return{textarea:!!this.props.field.displayAsTextArea}},componentDidMount:function(){if(console.error("LOOKING FOR JQUERY"),"undefined"!=typeof jQuery){console.error("FOUND JQUEWRY");var e=jQuery(this.refs[this.props.field.getf("number")]);e.popover&&(console.error("POPPING OVER"),e.popover({}))}},provideValue:function(){var e=this.refs[this.props.field.getf("number")].getDOMNode().value;e=this.props.field.coerce({},e),this.props.setMessageValue&&this.props.setMessageValue(e)},render:function(){var e,r=this.props.field,s=t(r),a=(this.props.message,this.props.value),i=!(!r.required&&!s.present),o=this.props.field.getf("doc");return console.error("TOOL TIP",o),e=this.state.textarea?new React.DOM.textarea({className:"form-control",title:o,dataToggle:"popover",dataTrigger:"focus",dataPlacement:"right",ref:s.id,placeholder:s.name,required:i,onChange:this.provideValue,children:a}):new React.DOM.input({type:"text",className:"form-control","data-content":o,"data-toggle":"popover","data-trigger":"focus","data-placement":"right",ref:s.id,placeholder:s.name,required:i,onChange:this.provideValue,value:a})}}),c=React.createClass({displayName:"NumericField",getInitialState:function(){return{value:this.props.value&&""+this.props.value}},storeState:function(){var e=this.refs[this.props.field.getf("number")].getDOMNode().value;this.setState({value:e})},provideValue:function(){this.props.setMessageValue&&this.props.setMessageValue(this.props.field.coerce({},this.state.value))},render:function(){var e=this.props.field,r=t(e),s=this.state.value,a=e.fieldType,i=(!(!e.required&&!r.present),n.test(a),p.test(a)),o=u.test(a),l={type:"number",ref:r.id};return r.hasOwnProperty("max")&&(l.max=r.max),r.hasOwnProperty("min")&&(l.min=r.min),s&&s.toString&&(s=""+s),l.value=s,o&&!r.min&&(l.min=0),l.step=i?1:"any",l.onBlur=this.provideValue,l.onChange=this.storeState,l.className="form-control",new React.DOM.input(l)}}),d=React.createClass({displayName:"EnumField",provideValue:function(){var e=this.refs[this.props.field.getf("number")].getDOMNode().value;e=this.props.field.coerce({},e),this.props.setMessageValue&&this.props.setMessageValue(e)},componentDidMount:function(){var e=this.refs[this.props.field.getf("number")].getDOMNode().value,r=this.props.value&&this.props.value.name;e!=r&&this.provideValue()},render:function(){var e=this.props.field,r=t(e),s=this.props.value,a=!(!e.required&&!r.present),i=(e.concrete.fullName,Object.keys(e.concrete.v)),o=[];return s&&(s=s.name||s),a||o.push(React.DOM.option({key:"not-set"})),i.forEach(function(e){o.push(React.DOM.option({value:e,key:e},e))}),React.DOM.select({ref:r.id,value:s,onChange:this.provideValue},o)}}),f=React.createClass({displayName:"BoolField",provideValue:function(){var e=this.refs[this.props.field.getf("number")].getDOMNode().checked;e=this.props.field.coerce({},e),this.props.setMessageValue&&this.props.setMessageValue(e)},render:function(){var e=this.props.field,r=t(e),s=!!this.props.value;return!(!e.required&&!r.present),React.DOM.input({className:"form-control",ref:r.id,type:"checkbox",value:"true",checked:s,onChange:this.provideValue})}}),h=React.createClass({displayName:"MessageField",getInitialState:function(){return{msg:this.props.value}},createNew:function(){var e=this.props.field,r=e.descriptor.concrete,t=new r;this.props.setMessageValue&&this.props.setMessageValue(t),this.setState({msg:t})},render:function(){var e=this.props.field,r=t(e),s=this.state.msg;return!(!e.required&&!r.present),s?new i({message:s,remover:this.props.remover}):React.DOM.span({onClick:this.createNew},"+")}}),m=React.createClass({displayName:"BytesField",render:function(){return React.DOM.span({className:"not-supported"},"Bytes fields not supported")}});["TYPE_DOUBLE","TYPE_FLOAT","TYPE_INT32","TYPE_INT64","TYPE_UINT32","TYPE_UINT64","TYPE_FIXED32","TYPE_FIXED64","TYPE_SFIXED32","TYPE_SFIXED64","TYPE_SINT32","TYPE_SINT64"].forEach(function(e){o[e]=c}),o.TYPE_STRING=l,o.TYPE_ENUM=d,o.TYPE_BOOL=f,o.TYPE_MESSAGE=h,o.TYPE_BYTES=m;var v=React.createClass({displayName:"SingleField",render:function(){if(!this.props.field)return React.DOM.span(null);var e,r,a,i,n=t(this.props.field),p=!(!n.required&&!n.present),u=this.props.error;return r=function(e){this.props.message.setf(e,this.props.field.getf("number")),this.setState({time:(new Date).valueOf()})}.bind(this),u&&u.error_types&&u.error_types.length?(i=u.error_types.join(","),a="validation-error"):(i=null,a=""),e=new o[this.props.field.fieldType]({field:this.props.field,value:this.props.message.getf(this.props.field.getf("number")),message:this.props.message,setMessageValue:r,error:this.props.error}),s(this.props.field,n.name,p,e,this.props.remover,i,a)}}),g=React.createClass({displayName:"RepeatedField",addNew:function(){var e,r=this.props.field,t=(this.props.message,this.props.value);"TYPE_MESSAGE"==r.fieldType&&(e=new r.descriptor.concrete),e=e||"",e.key=(new Date).valueOf(),t.push(e),this.setState({time:(new Date).valueOf()})},render:function(){var e,r,s=this.props.field,i=t(s),n=o[s.fieldType],p=(this.props.field.repeated,this.props.value),u=!(!s.required&&!i.preset),l=[],c=this.props.error;return p.forEach(function(e,r){var t=function(){var e=this.props.value;e.splice(r,1),this.setState({time:(new Date).valueOf()})}.bind(this),a=function(e){var t=this.props.value;t[r]=e,this.setState({time:(new Date).valueOf()})}.bind(this);l.push(new n({field:s,value:e,remover:t,key:e.key,setMessageValue:a}))}.bind(this)),c&&c.error_types&&c.error_types.length?(r=c.error_types.join(","),e="validation-error"):(r=null,e=""),React.DOM.div({className:"proto-field "+(e||""),"data-errors":r},React.DOM.label({className:"control-label"},a(u)," ",i.name," ",React.DOM.span({className:"add-new",onClick:this.addNew},"+")),React.DOM.fieldset({className:"proto-field"},l))}}),N=React.createClass({displayName:"Field",render:function(){if(!this.props.field)return React.DOM.span(null);var e=t(this.props.field),r=this.props.field.repeated,s=this.props.message.getf(e.id);return r?new g({field:this.props.field,value:s,remover:this.props.remover,message:this.props.message,error:this.props.error}):new v({field:this.props.field,value:s,remover:this.props.remover,message:this.props.message,error:this.props.error})}}),i=React.createClass({displayName:"Message",render:function(){var e=this.props.message;if(!e)return React.DOM.div({className:"Message"},"No Class");if(!e.isMessage())return React.DOM.div({className:"Message"},"Not a message");var r=[],t={};(this.props.errors&&this.props.errors.errors||[]).forEach(function(e){var r=[e.field.name,e.field.package].join("#");t[r]=e}),e.constructor.orderedFields.forEach(function(s){var a=s.getf("name"),i=s.getf("number"),o=e.constructor.fullName+a+i,n=t[[a,s.package].join("#")];r.push(new N({field:s,message:e,key:o,error:n}))});var s;return s=this.props.remover?React.DOM.button({className:"remover",onClick:this.props.remover},"X"):React.DOM.span(null),React.DOM.fieldset({className:"Message"},s,r)}}),y=React.createClass({displayName:"MessageForm",getInitialState:function(){return{errors:void 0}},handleSubmit:function(e){e.preventDefault();var r;if(this.props.message.fenderValidate){if(r=this.props.message.fenderValidate().asJSON(),!r.valid)return this.setState({errors:r}),this.props.onSubmit&&this.props.onSubmit(r),void 0;this.setState({errors:void 0})}return this.props.onSubmit&&this.props.onSubmit(null,this.props.message),!1},render:function(){var e=this.props.message;return React.DOM.form({onSubmit:this.handleSubmit,className:"messageForm",role:"form"},i({message:e,errors:this.state.errors}),React.DOM.input({type:"submit",className:"form-control btn btn-success submit",value:"Go"}))}});void 0!=typeof window&&(window.ReactFenderMessageForm=y),void 0!=typeof r&&(r.exports=y)},{}],through:[function(e,r,t){function s(e,r,t){function s(){for(;p.length&&!l.paused;){var e=p.shift();if(null===e)return l.emit("end");l.emit("data",e)}}function i(){l.writable=!1,r.call(l),!l.readable&&l.autoDestroy&&l.destroy()}e=e||function(e){this.queue(e)},r=r||function(){this.queue(null)};var o=!1,n=!1,p=[],u=!1,l=new a;return l.readable=l.writable=!0,l.paused=!1,l.autoDestroy=!(t&&t.autoDestroy===!1),l.write=function(r){return e.call(this,r),!l.paused},l.queue=l.push=function(e){return u?l:(null==e&&(u=!0),p.push(e),s(),l)},l.on("end",function(){l.readable=!1,!l.writable&&l.autoDestroy&&process.nextTick(function(){l.destroy()})}),l.end=function(e){return o?void 0:(o=!0,arguments.length&&l.write(e),i(),l)},l.destroy=function(){return n?void 0:(n=!0,o=!0,p.length=0,l.writable=l.readable=!1,l.emit("close"),l)},l.pause=function(){return l.paused?void 0:(l.paused=!0,l)},l.resume=function(){return l.paused&&(l.paused=!1,l.emit("resume")),s(),l.paused||l.emit("drain"),l},l}var a=e("stream");t=r.exports=s,s.through=s},{stream:void 0}]},{},[]);